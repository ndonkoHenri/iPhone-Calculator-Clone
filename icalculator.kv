#: import utils kivy.utils
#:set size "42sp"

<OrangeButton>:
    icon: "numeric-4"
    md_bg_color:  self.initial_colors["md_bg_color"]
    theme_icon_color: "Custom"
    ripple_duration_in_fast: .15
    ripple_duration_in_slow: 10
    ripple_alpha: 0.5
    ripple_color: 1,1,1,1
    ripple_rad_default: 150
    icon_size: size

<GrayButton@MDIconButton>:
    icon: "numeric-4"
    icon_size: size
    theme_icon_color: "Custom"

    icon_color: 0,0,0,1
    md_bg_color: utils.get_color_from_hex("#a5a5a5")
    ripple_duration_in_fast: .24
    ripple_duration_in_slow: 10
    ripple_alpha: 0.5
    ripple_color: 1,1,1,1
    ripple_rad_default: 150

<BlackButton@MDIconButton>:
    icon: "numeric-4"
    icon_size: size
    md_bg_color: utils.get_color_from_hex("#333333")
    ripple_duration_in_fast: .24
    ripple_duration_in_slow: 10
    ripple_alpha: 0.5
    ripple_color: 1,1,1,1
    ripple_rad_default: 150



HomeScreen:
    input: input_field
    MDBoxLayout:
        orientation: "vertical"
        padding: dp(11), dp(17), dp(11), dp(7)
#        Widget:
#            size_hint_y: None
#            height: dp(8)
        FloatInput:
            id: input_field
            text: "0"
            _eval_text: ""
            size_hint: 1,.27
            multiline: False
            cursor_blink: False
            font_size: "55sp"
            halign: "right"
            cursor_color: 0,0,0,1
            foreground_color: 1,1,1,1
            readonly: False
            selection_color: 0,0,0,0.7  # TODO: Find a good selection color
            write_tab: True
            background_color: 0,0,0,0

        MDBoxLayout:
            orientation: "vertical"
            spacing: 0
            padding: 1

            MDGridLayout:
                cols: 4
                spacing: "10dp"
                GrayButton:
                    icon: "format-clear"
                    id: btn_clear
                    on_press: input_field.clear()

                GrayButton:
                    icon: "plus-minus"
                    id: btn_plus_minus
                GrayButton:
                    id: btn_percent
                    icon: "percent-box-outline"


                OrangeButton:
                    icon: "division"
                    id: btn_division
                    value_str: '/'
                    on_release:
                        self.change_colors(btn_equal,btn_plus,btn_minus,btn_multiply)
                        input_field.add_to_input(self)

            MDGridLayout:
                cols: 4
                spacing: "10dp"
                BlackButton:
                    icon: "numeric-7"
                    id: btn_7
                    value_num: 7
                    value_str: "7"
                    on_release: input_field.add_to_input(self)

                BlackButton:
                    icon: "numeric-8"
                    id: btn_8
                    value_num: 8
                    value_str: "8"
                    on_release: input_field.add_to_input(self)
                BlackButton:
                    id: btn_9
                    value_num: 9
                    value_str: "9"
                    icon: "numeric-9"
                    on_release: input_field.add_to_input(self)

                OrangeButton:
                    icon: "multiplication"
                    value_str: "*"
                    on_release:
                        self.change_colors(btn_equal,btn_division,btn_plus,btn_minus)
                        input_field.add_to_input(self)
                    id: btn_multiply

            MDGridLayout:
                cols: 4
                spacing: "10dp"
                BlackButton:
                    icon: "numeric-4"
                    id: btn_4
                    value_num: 4
                    value_str: "4"
                    on_release: input_field.add_to_input(self)
                BlackButton:
                    icon: "numeric-5"
                    id: btn_5
                    value_num: 5
                    value_str: "5"
                    on_release: input_field.add_to_input(self)
                BlackButton:
                    id: btn_6
                    icon: "numeric-6"
                    value_num: 6
                    value_str: "6"
                    on_release: input_field.add_to_input(self)

                OrangeButton:
                    on_release:
                        self.change_colors(btn_equal,btn_division,btn_plus,btn_multiply)
                        input_field.add_to_input(self)
                    icon: "minus"
                    value_str:'-'
                    id: btn_minus

            MDGridLayout:
                cols: 4
                spacing: "10dp"
                BlackButton:
                    icon: "numeric-1"
                    id: btn_1
                    value_num: 1
                    value_str: "1"
                    on_release: input_field.add_to_input(self)

                BlackButton:
                    icon: "numeric-2"
                    id: btn_2
                    value_num: 2
                    value_str: "2"
                    on_release: input_field.add_to_input(self)
                BlackButton:
                    id: btn_3
                    icon: "numeric-3"
                    value_num:3
                    value_str: "3"
                    on_release: input_field.add_to_input(self)

                OrangeButton:
                    icon: "plus"
                    value_str: '+'
                    id: btn_plus
                    on_release:
                        self.change_colors(btn_equal,btn_division,btn_minus,btn_multiply)
                        input_field.add_to_input(self)
            MDGridLayout:
                cols: 4
                spacing: "10dp"
                BlackButton:
                    icon: "numeric-0"
                    id: btn_zero
                    value_num: 0
                    value_str: "0"
                    on_release: input_field.add_to_input(self)


                BlackButton:
                    id: btn_dot
                    icon: "vector-point"
                    value_num: 10
                    value_str: "."
                    on_release: input_field.add_to_input(self)


                OrangeButton:
                    icon: "equal"
                    value_str: "="
                    on_release:
                        self.change_colors(btn_division,btn_plus,btn_minus,btn_multiply)
                        input_field.add_to_input(self)
                    id: btn_equal

